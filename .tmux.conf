set -g set-titles on
set -g focus-events on

set -g base-index 1
set -g pane-base-index 1
set -g renumber-windows on
set -g automatic-rename on

set -g buffer-limit 1
set -g message-limit 0
set -g history-limit 1000
set -g scroll-on-clear off
set -g prompt-history-limit 0

set -g visual-bell off
set -g monitor-bell off
set -g bell-action none
set -g visual-silence on
set -g visual-activity off
set -g monitor-activity off

set -g status-keys vi
set -g status-bg black
set -g status-fg white
set -g status-interval 1
set -g status-justify left
set -g status-position top
set -g status-left-length 0
set -g status-right-length 128
set -g status-left '#{run-shell:tmux refresh-client -S}'
set -g status-right "#[align=absolute-centre] %a %I:%M %p %b %d, %Y #[align=right] #(mpstat 1 1 | awk \'/Average:/ {print 100-\$NF \"\%%\"}\') #(echo \'|\') #(free -h | awk \'/^Mem:/ {print $3\" / \"$2}\') #(echo \'|\') #(ip -o addr | grep inet\ | awk \'{print $4}\' | tail -n1) #(rx1=\$(cat /proc/net/dev | awk \'{sum+=\$2} END{print sum}\'); tx1=\$(cat /proc/net/dev | awk \'{sum+=\$10} END{print sum}\'); sleep 1; rx2=\$(cat /proc/net/dev | awk \'{sum+=\$2} END{print sum}\'); tx2=\$(cat /proc/net/dev | awk \'{sum+=\$10} END{print sum}\'); echo \"\$(((\$rx2-\$rx1)/1024)) KB/s \$(((\$tx2-\$tx1)/1024)) KB/s\")#([ -e /sys/class/power_supply/BAT0 ] || [ -e /sys/class/power_supply/BAT1 ] && echo \' |\' $(cat /sys/class/power_supply/BAT*/capacity)\'\%%\')"

set -g cursor-colour white
set -g clock-mode-colour white
set -g display-panes-colour white
set -g display-panes-active-colour green

set -g pane-border-style 'fg=white'
set -g pane-active-border-style 'fg=green'
set -g mode-style 'fg=green bg=black bold'
set -g message-style 'fg=white bg=black bold'
set -g menu-selected-style 'fg=green bg=black bold'
set -g message-command-style 'fg=white bg=black bold'

set -g window-status-current-format ' #W '
set -g window-status-format '#I #[fg=green]#F'
set -g window-status-style 'fg=white bg=black'
set -g window-status-current-style 'fg=black bg=green'
set -g window-status-bell-style 'fg=white bg=black bold'

set -g copy-mode-mark-style 'fg=green bg=black bold'
set -g copy-mode-match-style 'fg=green bg=black bold'
set -g copy-mode-current-match-style 'fg=green bg=black bold'

set -g escape-time 0
set -g repeat-time 100
set -g display-time 1000
set -g assume-paste-time 0

set -g mouse on
set -g mode-keys vi
set -g xterm-keys on
set -g extended-keys on

set -g wrap-search off
set -g set-clipboard on
set -g copy-command 'xclip -selection clipboard -i'

set -g prefix C-d
set -g prefix2 C-Space

unbind C-b
bind-key C-d send-prefix

bind-key -T copy-mode Escape send-keys C-c
bind-key -T copy-mode-vi Escape send-keys C-c
bind-key -T copy-mode-vi y send-keys -X copy-selection

unbind [
unbind ]
bind p paste-buffer -p
bind f copy-mode \; send-keys ?
bind / copy-mode \; send-keys /
bind V copy-mode \; send-keys -X select-line
bind v copy-mode \; send-keys -X begin-selection
bind-key C-v copy-mode \; send-keys -X rectangle-toggle \; send-keys -X begin-selection

bind-key a display-popup -w 50% -h 10% -e PS1=' > ' -E

bind c command-prompt

unbind C
bind o customize-mode

bind . last-pane
bind , select-pane -t :.+
bind \; select-pane -t :.-

bind w swap-pane -U
bind s swap-pane -D

bind - resize-pane -D 10
bind + resize-pane -U 10
bind > resize-pane -R 10
bind < resize-pane -L 10

bind-key -n F1 select-layout tiled
bind-key -n F2 select-layout main-vertical
bind-key -n F3 select-layout even-vertical
bind-key -n F4 select-layout main-horizontal
bind-key -n F5 select-layout even-horizontal
bind-key -n F6 select-layout main-vertical-mirrored
bind-key -n F7 select-layout main-horizontal-mirrored

unbind %
unbind '"'
bind | split-window -h
bind _ split-window -v

bind t new-window
bind l next-window
bind h previous-window
bind-key Tab last-window
bind-key g rotate-window

bind n new-session
bind k confirm kill-session

unbind (
unbind )
bind q switch-client -p
bind e switch-client -n

bind b choose-tree -Z

bind r source-file ~/.tmux.conf

bind x confirm kill-server
